
<div class="mainContent">

    <h2 style="font-family: Arial; margin-left:450px;"> Availiable Receptionists</h2>

    <input class = "search" type = "text" [(ngModel)] = "filterterm"
    name= "keyword">

    <select class = "filters" name = "sortBy" [(ngModel)] = "filters.sortBy" (change) = "listReception()">
        <option> FirstName </option>
        <option> LastName </option>
        <option> Email </option>
        <option> DOB </option>
        <option> Hired Date </option>


    </select>
    <button class = "export" (click) = "downloadPDF()"> Export PDF </button>
    <button class = "add" (click)="addReception()" > add recep </button>
    <div >
      <table class= "list" id ="contentToConvert">
        <tr style="text-align:center; "  >
          <th >Employee ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>NIC</th>
          <th>Gender</th>
          <th>Contact Number </th>
          <th>Address </th>
          <th>Email</th>
          <th>DOB </th>
          <th>Hired Date </th>
    
        </tr>
          
             <tr style="text-align:center; " *ngFor="let recep of reception | filter:filterterm">
                  <td>{{recep.employeeId}}</td>
                  <td >{{recep.firstName}}</td>
                  <td >{{recep.lastName}}</td>
                  <td >{{recep.nic}}</td>
                  <td >{{recep.gender}}</td>
                  <td >{{recep.contactNo}}</td>
                  <td >{{recep.address}}</td>
                  <td >{{recep.email}}</td>
                  <td >{{recep.dob}}</td>
                  <td >{{recep.hiredDate}}</td>
             
                   <button class = "delete" (click)="deleteReception(recep.employeeId)"> Delete </button> 
                    <button class = "edit"  (click)="edit(recep)" > Edit </button>   
                   
             </tr> 
             
      </table>  
     
  </div>

<div class="backShader" [style.display]="isDetVisible ? 'block' : 'none'">
    <span class="close" (click)="closeDetail()">&times;</span>
  
    <form (ngSubmit)="updateReception()" name = "form" #userForm="ngForm" (ngSubmit)="onSubmit(userForm.value)" >
              
      <div class="container2" >

        <h1 style="font-family: Arial; color: white; margin-left: 150px;"> Add Receptionist</h1>

        <div class="row">
          <div class="col-75">
            <input type="text" required #firstName="ngModel" name="firstName" [(ngModel)]="receptionEdit.firstName"
                                placeholder="Enter Receptionist name" />
          </div>
          <span *ngIf="firstName.invalid && firstName.touched" class = "error" > First Name requried</span>
        </div>
    
        <div class="row">
          <div class="col-75">
            <input type="text"  #lastName="ngModel" required name="lastname" [(ngModel)]="receptionEdit.lastName" 
            placeholder="Enter LastName" />
          </div>
          <span *ngIf="lastName.invalid && lastName.touched" class = "error" > Last Name requried</span>
        </div>
    
        <div class="row">
          <div class="col-75">
                <select name="gender" id="gen" [(ngModel)]="receptionEdit.gender" required >
                  <option value="g"  selected  >Enter Gender</option>
                <option value="M">M</option>
                <option value="F">F</option>
                <option value="F">Non Binary</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-75" style>
            <input type="email" name="email" [(ngModel)]="receptionEdit.email" 
            placeholder="Enter Email" #email="ngModel" email />
          </div>
          <span *ngIf="email.invalid && email.touched" class = "error" > Please enter a valid email</span>
        </div>
    <!--
        <div class="row">
          <div class="col-75">
            <input type="password" minlength="4" name="password" [(ngModel)]="this.password" 
                                placeholder="Enter Password"  required />
          </div>
        </div>
   -->
    <div class="row">
      <div class="col-75">
        <input type="text" #nic="ngModel" required name="nic" [(ngModel)]="receptionEdit.nic" 
        placeholder="Enter NIC" />
      </div>
      <span *ngIf="nic.invalid && nic.touched" class = "error" > NIC is requried</span>
    </div>

    <div class="row">
      <div class="col-75">
        <input type="text" #contactNo="ngModel"  name="contactno" [(ngModel)]="receptionEdit.contactNo" 
        placeholder="Enter Contact No" />
      </div>
      <span *ngIf="contactNo.invalid && contactNo.touched" class = "error" > Contact No is requried</span>
    </div>

    <div class="row">
      <div class="col-75">
        <input type="text" #address="ngModel" name="address" [(ngModel)]="receptionEdit.address" 
        placeholder="Enter Address" />
      </div>
      <span *ngIf="address.invalid && address.touched" class = "error" > Address requried</span>
    </div>

    
        <div class="row">
          <div class="col-75">
            <input type="date"  #dob="ngModel" name="dob" [(ngModel)]="receptionEdit.dob" 
            placeholder="Enter DOB" />
          </div>
          <span *ngIf="dob.invalid && dob.touched" class = "error" > Hired Date is requried</span>
        </div>

        <div class="row">
          <div class="col-75">
            <input type="date"  #hiredDate="ngModel" name="hiredDate" [(ngModel)]="receptionEdit.hiredDate" 
            placeholder="Enter hiredDate" />
          </div>
          <span *ngIf="hiredDate.invalid && hiredDate.touched" class = "error" > Hired Date is requried</span>
        </div>
        
    
        <button type = "submit" class = submit >  Save   </button>
        <span *ngIf="userForm.invalid && userForm.touched" class = "error" > Invalid Form Entry</span>
       
      
      </div>  
    </form> 
            
</div>
